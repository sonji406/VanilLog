### VanilLog: 일상을 기록하는 가장 심플한 블로그 📓

</br>

## 💁‍♀️ 소개

**VanilLog**는 개인의 블로그 글을 관리하고 공유할 수 있는 플랫폼입니다. NextJS 13의 최신 기능과 함께, 사용자는 자신의 블로그에서 쉽고 빠르게 게시글을 작성하고 관리할 수 있습니다.

<details>
  <summary><b>📹 VanilLog 시연 영상</b></summary>
  
  - 메인화면
    - 로그인하지 않은 경우, 포스트 조회 및 검색 기능만 이용할 수 있습니다.

      https://github.com/Last-Survivors-3-8/VanilLog/assets/133579214/3fbb62af-5866-4475-a960-b60188ace9b4

- 로그인

  - 상단바의 'Login' 버튼이나 사이드바의 '로그인을 해주세요.' 버튼을 클릭해 로그인 화면으로 이동합니다.
  - 구글 로그인 시 자동으로 회원가입 및 로그인됩니다.
  - 가입 초기에 설정되는 닉네임과 프로필 이미지는, 연계된 구글 계정에서 가져온 닉네임과 이미지입니다.

    https://github.com/Last-Survivors-3-8/VanilLog/assets/133579214/12613435-67ca-45fc-b934-68e65328e452

- 포스트 작성하기

  - 제목을 작성합니다.
  - 내용에는 텍스트나 이미지를 추가합니다.
  - '저장하기' 버튼을 클릭하여 포스트를 게시합니다.
  - MyLog에서 작성한 포스트를 확인할 수 있습니다.

    https://github.com/Last-Survivors-3-8/VanilLog/assets/133579214/a07c2006-49eb-4fff-9187-def48e283ce4

- 포스트 수정하기

  - 포스트 상세 페이지에서 '수정하기' 버튼을 클릭해 수정 화면으로 이동합니다.
  - 제목이나 내용을 변경합니다.
  - '저장하기' 버튼을 클릭하여 수정사항을 저장합니다.
  - MyLog에서 수정된 포스트를 확인할 수 있습니다.

    https://github.com/Last-Survivors-3-8/VanilLog/assets/133579214/b330b100-02da-49d6-bc12-3c01e83b1226

- 포스트 삭제하기

  - 포스트 상세 페이지에서 '삭제하기' 버튼을 클릭합니다.
  - '확인' 버튼을 클릭하여 포스트를 삭제합니다.
  - MyLog에서 삭제된 포스트를 확인할 수 있습니다.

    https://github.com/Last-Survivors-3-8/VanilLog/assets/133579214/f9c4464e-0e58-4f38-b5ca-9b10d4977dd7

- 댓글 작성

  - 포스트 상세 페이지 하단에 댓글을 입력한 후 '댓글 작성' 버튼을 클릭합니다.
  - 작성한 댓글을 확인할 수 있습니다.

    https://github.com/Last-Survivors-3-8/VanilLog/assets/133579214/d469469f-c5b5-4cd9-a73f-34117fab5e62

- 댓글 수정, 삭제

  - 수정하고자 하는 댓글의 '수정' 버튼을 클릭합니다.
  - 댓글을 수정한 후 '확인' 버튼을 클릭합니다.
  - 수정된 댓글을 확인할 수 있습니다.
  - 삭제하고자 하는 댓글의 '삭제' 버튼을 클릭합니다.
  - 삭제된 댓글을 확인할 수 있습니다.

    https://github.com/Last-Survivors-3-8/VanilLog/assets/133579214/fb0dafe6-e7a8-4624-8fc1-1e2e5cbcd420

- 통합 검색

  - 메인화면 내 우측 상단 검색란에 검색어를 입력한 후 엔터를 누릅니다.
  - 검색어와 관련된 포스트들이 표시됩니다.

    https://github.com/Last-Survivors-3-8/VanilLog/assets/133579214/7afeed5e-0872-4364-b6ea-e7c2ad6cdbce

- 블로그내 검색

  - 특정 블로그 내 우측 상단 검색란에 검색어를 입력한 후 엔터를 누릅니다.
  - 해당 블로그 내에서 검색어와 관련된 포스트들이 표시됩니다.

    https://github.com/Last-Survivors-3-8/VanilLog/assets/133579214/c476e3a2-07b0-4b1d-9d8a-4f37c1b4f38c

- 프로필

  - 좌측 상단의 햄버거 아이콘을 클릭합니다.
  - 사이드바에서 '프로필 정보/수정' 버튼을 클릭합니다.

    https://github.com/Last-Survivors-3-8/VanilLog/assets/133579214/1bda2d17-dd5f-49eb-9a7e-6aca16860fdc

- 프로필 사진 변경

  - '사진 업로드/변경' 버튼을 클릭합니다.
  - 사진 변경란에서는 변경된 프로필 사진이 바로 반영되고, 상단바의 프로필 사진은 페이지를 새로고침하면 확인할 수 있습니다.

    https://github.com/Last-Survivors-3-8/VanilLog/assets/133579214/a6ead064-c65b-4f63-9fac-995df25e7788

- 닉네임 변경

  - 내 닉네임에 있는 '변경하기' 버튼을 클릭합니다.
  - 닉네임을 변경한 후 '저장' 버튼을 클릭합니다. (다른 유저와 중복되는 닉네임으로는 변경할 수 없습니다.)
  - 내 닉네임란에서는 변경된 닉네임이 바로 반영되고, 상단바의 닉네임은 페이지를 새로고침하면 확인할 수 있습니다.

    https://github.com/Last-Survivors-3-8/VanilLog/assets/133579214/19945ab7-fb05-4b41-812d-9c578a4a7219

</details>

</br>

## 🛠️ 기술 스택

![React](https://img.shields.io/badge/React-18.2.0-61DAFB?logo=React)
![Next.js](https://img.shields.io/badge/Next.js-13.4.13-000000?logo=Next.js)
![Next Auth](https://img.shields.io/badge/Next%20Auth-4.23.1-5968FF?logo=Next%20Auth)
![Axios](https://img.shields.io/badge/Axios-1.4.0-blueviolet)
![TailwindCSS](https://img.shields.io/badge/TailwindCSS-3.3.3-38B2AC?logo=Tailwind%20CSS)
![ESLint](https://img.shields.io/badge/ESLint-8.47.0-4B32C3?logo=ESLint)
![Prettier](https://img.shields.io/badge/Prettier-3.0.1-F7B93E?logo=Prettier)

</br>

## 👀 목차

[💡 프로젝트 동기](#-프로젝트-동기)
  
  &nbsp;&nbsp;[1. 학습 목표](#1-학습-목표)
  
  &nbsp;&nbsp;[2. 블로그 아이디어](#2-블로그-아이디어)
  
  &nbsp;&nbsp;[3. 웹 애플리케이션 'VanilLog'](#3-웹-애플리케이션-vanillog)
  
[🚧 도전 및 문제 해결](#-도전-및-문제-해결)

&nbsp;&nbsp;[1. Next JS 13 + App Router](#1-next-js-13--app-router)
    
&nbsp;&nbsp;&nbsp;&nbsp;[1) 어떤 프레임워크를 사용해서 구현할까?](#1-어떤-프레임워크를-사용해서-구현할까)

&nbsp;&nbsp;&nbsp;&nbsp;[2) 타 라이브러리와의 호환성 문제](#2-타-라이브러리와의-호환성-문제)

&nbsp;&nbsp;&nbsp;&nbsp;[3) 해결 방안](#3-해결-방안)

&nbsp;&nbsp;[2. Editor.js + AWS S3 + MongoDB](#2-editorjs--aws-s3--mongodb)

&nbsp;&nbsp;&nbsp;&nbsp;[1) 왜 이 기술 스택을 선택했을까?](#1-왜-이-기술-스택을-선택했을까)

&nbsp;&nbsp;&nbsp;&nbsp;[2) 기술 스택 적용 과정에서의 문제](#2-기술-스택-적용-과정에서의-문제)

&nbsp;&nbsp;&nbsp;&nbsp;[3) 해결 방안](#3-해결-방안-1)

[📅 일정](#-일정)

[🛠️ 기술 스택](#%EF%B8%8F-기술-스택)

[🗝 세팅 방법](#-세팅-방법)

[👥 팀 멤버](#-팀-멤버)

[🔗 Repository 주소](#-repository-link)

[📌 기타 사항](#-기타-사항)

<br>

## 💡 프로젝트 동기

### 1. 학습 목표

- JavaScript를 기반으로 프론트엔드 및 백엔드를 실제로 구현하며 학습 심화
- 기존에 학습한 기술 스택의 효과적 활용
- 사용자 중심의 웹서비스 개발

### 2. 블로그 아이디어

블로그는 프론트엔드와 백엔드 모두에서 다양한 기능과 요구사항을 가진 서비스 중 하나입니다. 기존에 배운 기술들을 다양한 방면에서 활용하면서 실력을 향상 시킬 수 있는 좋은 아이디어라고 판단하였습니다.

### 3. 웹 애플리케이션 'VanilLog'

학습 목표와 아이디어를 기반으로, 사용자들이 자신의 일상을 자유롭게 공유할 수 있는 웹 애플리케이션인 'VanilLog'가 탄생하게 되었습니다.

<br>

## 🚧 도전 및 문제 해결

3주 동안 개발을 진행하면서 겪었던 핵심적인 문제들과 해결 방안을 정리해 보았습니다.

</br>

## 1. Next JS 13 + App Router

### 1) 어떤 프레임워크를 사용해서 구현할까?

블로그를 구현하는데에 다음과 같은 요구사항이 있었습니다.

- **SEO 최적화:** 검색 엔진에서 블로그 게시글이 더 많은 사용자에게 노출될 수 있도록 최적화가 필요했습니다. 이로 인해 SSR (Server-Side Rendering) 기능이 필요
- **백엔드 역할 최소화:** API 호출 외에 별다른 서버 측 로직이 필요하지 않아, 클라이언트와 백엔드를 효율적으로 관리할 수 있는 프레임워크가 필요

리액트는 기본적으로 클라이언트 사이드 렌더링(CSR)을 지원하므로 SEO에 다소 불리한 점이 있습니다. 이를 해결하기 위해 SEO에 최적화된 SSR을 제공하고, API를 클라이언트와 백엔드에서 통합적으로 관리할 수 있는 Next.js를 선택했습니다. Next.js는 리액트의 장점을 살리면서도 SSR 및 SSG(Static Site Generation)를 통해 SEO 문제를 해결할 수 있어 최적의 선택이었습니다.

### 2) 타 라이브러리와의 호환성 문제

Next.js를 도입하면서, 운영사인 Vercel의 권고에 따라 최신 버전인 Next.js 13의 App Router 방식을 사용했습니다. 이 방식은 새롭게 도입된 기능으로, 페이지 라우터와는 구조적으로 많은 차이가 있었습니다. 프로젝트 초기에는 이를 충분히 인지하지 못해 예상치 못한 몇 가지 문제를 겪었습니다.

- **러닝 커브:** Next.js 13은 2022년에 출시된 비교적 새로운 버전으로, App Router 방식에 대한 자료가 부족, 이로 인해 학습 곡선이 가파르게 느낌
- **호환성 문제:** App Router 방식이 아직 널리 채택되지 않아, 일부 타 라이브러리들과의 호환성 문제가 발생, 이로 인해 프로젝트 진행 도중 여러 번의 코드 수정과 대체 라이브러리 검토가 필요

프로젝트 진행 중간에 이러한 문제를 인지했으나, 이미 상당한 작업이 진행된 상태였기 때문에 Pages Router 방식으로 되돌아가는 것은 비효율적이라고 판단했습니다. 따라서 App Router 방식을 유지하면서 문제를 해결하는 데 집중했습니다.

### 3) 해결 방안

- **공식 문서 학습:** Next.js의 공식 문서를 철저히 분석하여 App Router 방식의 장단점과 최적의 사용 방법을 파악했습니다.
- **커뮤니티 리소스 활용:** Next.js GitHub Issues 및 커뮤니티 포럼을 적극적으로 활용하여, 다른 개발자들이 겪은 문제와 그 해결 방안을 참고했습니다. 이 과정을 통해 최신 버전에 맞는 라이브러리와 설정 방법을 숙달할 수 있었습니다.
- **테스트 및 검증:** 프로젝트에서 사용 중인 라이브러리들이 App Router 방식과 제대로 호환되는지 철저히 테스트했습니다. 필요 시, 라이브러리를 업데이트하거나 대체 라이브러리로 교체하며 호환성을 확보했습니다.

이러한 과정을 거쳐 App Router 방식으로 블로그 프로젝트를 성공적으로 완성할 수 있었고, 최신 기술을 활용한 경험을 통해 기술적 역량을 크게 향상시킬 수 있었습니다.

<br>

## 2. Editor.js + AWS S3 + MongoDB

이미지 업로드 기능을 구현하는데에 다음과 같은 요구사항이 있었습니다

### 1) 왜 이 기술 스택을 선택했을까?

- 사용자가 직관적이고 깔끔한 인터페이스에서 글을 작성할 수 있도록 하는 기능이 필요
- 사용자가 작성한 글에 삽입되는 이미지를 효율적으로 저장하고, 관리할 수 있는 안정적인 시스템이 필요
- 이미지를 포함한 글 데이터를 효율적으로 관리하기 위해, 이미지와 텍스트 데이터를 안전하게 저장하고 쉽게 접근할 수 있는 데이터베이스가 필요

이러한 요구사항을 충족하기 위해 Editor.js를 글 작성 도구로 선택했습니다. Editor.js는 모듈화된 블록 기반 에디터로, 필요한 기능만을 선택해 사용할 수 있어 사용자 경험을 극대화할 수 있었습니다. 이미지 관리를 위해서는 AWS S3를 사용해 이미지를 저장하고, MongoDB를 통해 이미지 링크를 포함한 글 데이터를 관리했습니다.

### 2) 기술 스택 적용 과정에서의 문제

- **Editor.js 통합 문제:** 초기에는 Editor.js의 구조를 완벽히 이해하지 못해, 커스터마이징이 어려웠습니다. 특히 이미지 업로드 기능을 구현하는 과정에서, 사용자에게 직관적인 경험을 제공하는 동시에, 백엔드와의 연동을 효율적으로 처리하는 데 어려움을 겪었습니다.
- **AWS S3 이미지 업로드 및 링크 관리:** AWS S3에 이미지를 저장한 후, 그 링크를 MongoDB에 저장하는 과정에서 이미지의 안정적인 로딩을 보장하는 방식에 대한 고민이 있었습니다. 초기 설정 단계에서 버킷 설정과 권한 관리에서 문제가 발생해 이미지가 제대로 로드되지 않는 상황이 있었습니다.
- **MongoDB 데이터 모델링:** 이미지와 텍스트 데이터를 효율적으로 관리하기 위해, MongoDB의 스키마 설계가 중요했습니다. 특히, 대용량 데이터를 처리하는 과정에서 성능 문제를 최소화하고, 데이터를 안전하게 관리하는 방법에 대해 많은 고민이 필요했습니다.

### 3) 해결 방안

- **Editor.js 학습 및 커스터마이징**: Editor.js의 공식 문서와 예제들을 참고하며, 에디터의 구조와 동작 방식을 이해했습니다. 특히, 이미지 업로드 기능을 커스터마이징하여 AWS S3에 이미지가 업로드될 때마다 자동으로 그 링크를 생성하고, 이를 MongoDB에 저장하는 기능을 구현했습니다.
- **AWS S3 버킷 설정 및 최적화**: AWS S3의 공식 문서와 다양한 튜토리얼을 참고하여, 버킷의 퍼블릭 액세스 설정 및 권한 관리를 철저히 검토했습니다. 이를 통해 모든 사용자가 안정적으로 이미지를 불러올 수 있도록 설정했습니다.
- **MongoDB 스키마 최적화**: MongoDB에서의 데이터 모델링을 개선하여, 이미지 링크와 텍스트 데이터를 효과적으로 관리할 수 있는 스키마를 설계했습니다. 이를 통해 데이터 접근 속도를 향상시키고, 데이터베이스의 성능을 최적화했습니다.

<br>

## 📅 일정

<details>
  <summary><b>1주차</b></summary>

- 아이디어 회의
- 기술 스택 조사 및 선정
- Git 작업 플로우 결정
- 협업 규칙 정립
- Mockup 제작 및 디자인 설계
- DB 스키마 설계
- API Docs 작업
- 개발 일정 칸반 보드 작성
- 개발 초기 세팅
</details>

<details>
  <summary><b>2주차 ~</b></summary>

- 웹 사이트 구현
- 리팩토링 및 버그 픽스
- 테스트 코드 작성
- 팀 프로젝트 발표
- 리드미 작성
- 배포

</details>

<br>

## 🗝 세팅 방법

시작하기 전에, 루트 디렉토리에 .env 파일을 만들고 아래와 같이 설정해주세요.

```env
MONGODB_URI=                 # MongoDB 데이터베이스에 연결하기 위한 URI
NEXTAUTH_URL=                # NextAuth가 사용할 콜백 URL 및 서버의 주소
GOOGLE_CLIENT_ID=             # Google OAuth 인증을 위한 클라이언트 ID
GOOGLE_CLIENT_SECRET=         # Google OAuth 인증을 위한 클라이언트 키
NEXTAUTH_SECRET=             # NextAuth 세션을 암호화하기 위한 키
AWS_ACCESS_KEY_ID=           # AWS 서비스에 액세스하기 위한 사용자의 액세스 키 ID
AWS_SECRET_ACCESS_KEY=       # AWS 서비스에 액세스하기 위한 사용자의 액세스 키
AWS_REGION=                  # AWS S3 버킷이 위치한 리전 정보
AWS_S3_BUCKET_NAME=          # 이미지 등의 리소스를 저장할 AWS S3 버킷의 이름
```

<br>

## 👥 팀 멤버

문의 사항이 있으시다면, 아래의 이메일로 연락주세요.

- 조시환: [acforcompany@gmail.com](mailto:acforcompany@gmail.com)
- 손지은: [wkaqh24@gmail.com](mailto:wkaqh24@gmail.com)
- 우지현: [xhrrl003@gmail.com](mailto:xhrrl003@gmail.com)

<br>

## 🔗 Repository Link

- [VanilLog Repository](https://github.com/Last-Survivors-3-8/VanilLog)

<br>

## 📌 기타 사항

- **라이센스**

  이 프로젝트는 [MIT 라이센스](LICENSE)를 따릅니다. 더 자세한 내용은 LICENSE 파일을 참고해주세요.
